<!-- INCLUDE src/reveal.header -->

<section data-background="#00CCFF">
<h2>Sistemas Operativos</h2>
</section>

<section data-transition="slide-in fade-out">
<h2>Sistemas de cómputo</h2>
<img src="img/sistcomp-0.png" class="stretch plain">
</section>
<section data-transition="slide-out fade-in">
<h2>Sistemas de cómputo</h2>
<img src="img/sistcomp-1.png" class="stretch plain">
</section>

<!-- HISTORIA 
<section>
<h2>Software de los sistemas de cómputo</h2>
<ul>
	<li><i>Open Shop</i></li>
	<li>Sistemas de procesamiento <i>batch</i> o por lotes</li>
	<li>Sistemas multiprogramados</li>
	<li>Sistemas de tiempo compartido</li>
	<li>Computación personal</li>
</ul>
</section>
-->
<section>
<h2>Evolución del software de base</h2>
<table>
<tr class="fragment"><td><i>Open Shop</i></td><td>Carga manual de una aplicación</td></tr>
<tr class="fragment"><td>Procesamiento <i>batch</i></td><td>Automatización de trabajos en lotes</td></tr>
<tr class="fragment"><td>Multiprogramación</td><td>Programas que compiten por recursos</td></tr>
<tr class="fragment"><td>Tiempo compartido</td><td>Sistema multiusuario interactivo</td></tr>
<tr class="fragment"><td>Computación personal</td><td>Inicialmente sencillo pero en evolución</td></tr>
</table>
</section>


<section>
<h2>Componentes del SO</h2>
<ul>
	<li><b>Kernel</b> o <b>núcleo</b></li>
	<li>Programas utilitarios o <b>software de sistema</b></li>
	<li><b>Shell</b>, interfaz de usuario o procesador de comandos</li>
</ul>
<img src="img/shell.png" class="stretch plain">
</section>


<section>
<h2>Software involucrado</h2>
<div class="double">
<div>
<ul>	
	<li>Interfaces de usuario</li>
	<ul>
		<li><b>Shell</b> o procesador de comandos</li>
		<li>Opcionalmente, entorno gráfico</li>
	</ul>
	<li>Programas de administración</li>
	<li>Editores, navegador de archivos</li>
	<li>Monitores de sistema, registros de eventos</li>
</ul>
</div>
<div>
<ul>
	<li>Programas de comunicaciones</li>
	<ul>
		<li>Navegador, transferencia de archivos, mail, mensajería</li>
	</ul>
	<li>Soporte de programación</li>
	<ul>
		<li>Compiladores, intérpretes, bibliotecas</li>
	</ul>
</ul>
</div>
</section>

<section>
<h2>Kernel o núcleo</h2>
<ul>
	<li>Componente fundamental del sistema operativo</li>
	<li>Conjunto de rutinas residentes en memoria</li>
	<li>Controla el <b>hardware</b> y los <b>recursos lógicos</b></li>
	<li>Corre en <b>modo privilegiado</b> del procesador</li>
	<li>Ofrece los servicios mediante <b>llamadas al sistema o system calls</b></li>
</ul>
</section>

<section data-transition="slide-in fade-out">
<h2>Modo de ejecución dual</h2>
<img src="img/modos-0.png" class="stretch plain">
<aside data-markdown class="notes">
Los modernos procesadores funcionan en lo que llamamos **modo dual** de ejecución, donde el ISA se divide en dos grupos de instrucciones. Ciertas instrucciones que controlan el modo de operación de la CPU, el acceso a memoria, o a las unidades de Entrada/Salida, pertenecen al grupo de instrucciones del **modo privilegiado**. Un proceso de usuario funciona en modo **no privilegiado**, donde tiene acceso a la mayoría de las instrucciones del ISA, pero no a las instrucciones del modo privilegiado. 

El proceso, durante su vida, ejecutará instrucciones en modo no privilegiado hasta que necesite un servicio del sistema operativo, como el acceso a un recurso físico o lógico.
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Modo de ejecución dual</h2>
<img src="img/modos-1.png" class="stretch plain">
<aside data-markdown class="notes">
Para requerir este servicio, el proceso ejecuta una instrucción de **llamada al sistema** o **system call**, que es la única instrucción del conjunto no privilegiado que permite a la CPU conmutar al modo privilegiado.
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Modo de ejecución dual</h2>
<img src="img/modos-2.png" class="stretch plain">
<aside data-markdown class="notes">
La llamada al sistema conmuta el modo de la CPU a modo privilegiado **y además** fuerza el salto a una cierta dirección fija de memoria donde existe código del kernel. En esa dirección de memoria existe una rutina de atención de llamadas al sistema, que determina, por el contenido de los registros de la CPU, qué es lo que está solicitando el proceso. 

Con estos datos, esa rutina de atención de llamadas al sistema dirigirá el pedido al subsistema del kernel correspondiente, ejecutando siempre en modo privilegiado, y por lo tanto, con completo acceso a los recursos.
</section>
<section data-transition="fade-in slide-out">
<h2>Modo de ejecución dual</h2>
<img src="img/modos-3.png" class="stretch plain">
<aside data-markdown class="notes">
El subsistema que corresponda hará las verificaciones necesarias para cumplir el servicio: 

* El usuario dueño del proceso, ¿tiene los permisos necesarios?
* El recurso, ¿está disponible o está siendo usado por otro proceso?, etc.

Cuando se cumplan todos los requisitos, se ejecutará el servicio pedido y luego se volverá a modo usuario, a continuar con la ejecución del proceso.  
</aside>
</section>

<section data-transition="slide-in fade-out">
<h2>Aplicaciones</h2>
<img src="img/so-0.png" class="stretch plain">
</section>
<section data-transition="fade-in fade-out">
<h2>Bibliotecas</h2>
<img src="img/so-1.png" class="stretch plain">
</section>
<section data-transition="fade-in fade-out">
<h2>Kernel</h2>
<img src="img/so-2.png" class="stretch plain">
</section>
<section data-transition="fade-in slide-out">
<h2>Llamadas al sistema</h2>
<img src="img/so-3.png" class="stretch plain">
</section>

<section data-transition="slide-in fade-out">
<h2>Cronología</h2>
<img src="img/so-crono-0.png" class="stretch plain">
</section>
<section data-transition="fade-in fade-out">
<h2>Cronología</h2>
<img src="img/so-crono-1.png" class="stretch plain">
</section>
<section data-transition="fade-in fade-out">
<h2>Cronología</h2>
<img src="img/so-crono-2.png" class="stretch plain">
</section>
<section data-transition="fade-in slide-out">
<h2>Cronología</h2>
<img src="img/so-crono-3.png" class="stretch plain">
</section>

<section>
<h2>Servicios del SO</h2>
<ul>
	<li>Múltiples usuarios y tareas</li>
	<ul>
		<li>Ejecución de programas</li>
		<li>Gestión de archivos</li>
		<li>Operaciones de Entrada/Salida</li>
		<li>Gestión de memoria</li>
		<li>Protección</li>
	</ul>
</ul>
</section>

<section data-background="#00CCFF">
<h2>Ejecución de programas</h2>
<aside data-markdown class="notes">
</aside>
</section>

<section>
<h2>Ejecución de programas</h2>
<ul>
	<li>Interfaz de usuario o <b>shell</b></li>
	<li><b>Proceso</b></li>
	<ul>
		<li>Un programa en ejecución</i></li>
	</ul>
	<li><b>Estados</b> de los procesos</li>
	<li>Planificación, o <b>scheduling</b></li>
	<li><b>Concurrencia</b> y <b>paralelismo</b></li>
</ul>
</section>




<section data-transition="slide-in fade-out">
<h2>Estados de los procesos</h2>
<h3>Sistema multiprogramado</h3>
<img src="img/procesos-0.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Estados de los procesos</h2>
<h3>Sistema multiprogramado</h3>
<img src="img/procesos-1.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Estados de los procesos</h2>
<h3>Sistema multiprogramado</h3>
<img src="img/procesos-2.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="slide-out fade-in">
<h2>Estados de los procesos</h2>
<h3>Tiempo compartido o <i>time sharing</i></h3>
<img src="img/procesos-3.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>

<section data-transition="convex-in fade-out">
<h2>Procesos concurrentes</h2>
<img src="img/estados-0.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Procesos concurrentes</h2>
<img src="img/estados-1.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Procesos concurrentes</h2>
<img src="img/estados-2.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Procesos concurrentes</h2>
<img src="img/estados-3.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Procesos concurrentes</h2>
<img src="img/estados-4.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Procesos concurrentes</h2>
<img src="img/estados-5.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Procesos concurrentes</h2>
<img src="img/estados-6.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>


<!-- -------------- -->
<section data-transition="convex-in convex-out">
<h2>Procesos concurrentes</h2>
<img src="img/estados-anim.gif" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>

<section data-transition="convex">
<h2>Procesos paralelos</h2>
<img src="img/estados-ts-anim.gif" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>

<!------------------------>
<section data-transition="fade-out slide-in">
<h2>Procesos</h2>
<img src="img/top.png" class="stretch plain">
</section>
<section data-transition="fade-in slide-out">
<h2>Procesos</h2>
<img src="img/top2.png" class="stretch plain">
</section>

<section data-transition="slide-in slide-out">
<h2>Comandos de procesos</h2>
<table>
<tr><td>ps</td><td>-f, -a, -x</td><td>Lista procesos</td></tr>
<tr><td>pstree</td><td></td><td>Jerarquía de procesos</td></tr>
<tr><td>top</td><td></td><td>Monitor de procesos</td></tr>
<tr><td>nice</td><td></td><td>Cambia prioridad</td></tr>
<tr><td>kill</td><td></td><td>Envía una señal</td></tr>
</table>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>

<section data-background="#00CCFF">
<h2>Gestión de archivos</h2>
<aside data-markdown class="notes">
</aside>
</section>

<!-- -------------- -->
<section>
<h2>Gestión de archivos</h2>
<ul>
	<li><b>Archivos</b></li>
	<ul>
		<li>Datos almacenados en un medio persistente</li>
	</ul>
	<li><b>Sistema de archivos</b> o <b>file system</b></li>
	<ul>
		<li>Un componente del kernel que organiza los archivos</li>
	</ul>
	<li><b>Metadatos</b></li>
	<ul>
		<li>Datos acerca de los datos (tamaño del archivo, fecha de creación, atributos, permisos)</li>
	</ul>
	<li>Estructura jerárquica de <b>directorios</b></li>
</ul>
</section>


<!------------------------>
<section data-transition="slide-in slide-out">
<h2>Árbol de directorios</h2>
<img src="img/tree.png" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<!------------------------>
<section data-transition="slide-in slide-out">
<h2>Sistema de archivos</h2>
<ul>
	<li>Particiones</li>
	<li>Bloques</li>
	<li>Superblock</li>
	<li>Inodos</li>
</ul>
<aside data-markdown class="notes">
</aside>
</section>

<!------------------------>
<section data-transition="slide-in fade-out">
<h2>Sistema de archivos</h2>
<div style="text-align: left">Particiones</div>
<img src="img/disk-layout-0.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out" data-transition-speed="slow">
<h2>Sistema de archivos</h2>
<div style="text-align: left">Bloques</div>
<img src="img/disk-layout-0b.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<section data-transition="fade-in fade-out">
<h2>Sistema de archivos</h2>
<div style="text-align: left">Superblock</div>
<img src="img/disk-layout-1.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<section data-transition="fade-in fade-out">
<h2>Sistema de archivos</h2>
<div style="text-align: left">Tabla de inodos</div>
<img src="img/disk-layout-2.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<section data-transition="fade-out fade-in">
<h2>Sistema de archivos</h2>
<div style="text-align: left">Metadatos</div>
<img src="img/disk-layout-3.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<section data-transition="slide-out fade-in">
<h2>Sistema de archivos</h2>
<div style="text-align: left">Bloques de datos</div>
<img src="img/disk-layout-4.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>

<!------------------------>
<section data-transition="slide-in slide-out">
<h2>Inodos</h2>
<ul>
	<li>Tamaño del archivo</li>
	<li>Dueño, grupo</li>
	<li>Tipo de archivo</li>
	<ul><small>
		<li>Archivo regular, directorio</li>
		<li>Dispositivo de caracteres o de bloques</li>
		<li>Socket, tubería, otros</li>
	</ul></small>
	<li>Modo o permisos de acceso</li>
	<ul><small>
		<li>Lectura, escritura, ejecución</li>
		<li>Dueño, grupo, resto del mundo</li>
	</ul></small>
	<li>Tiempos de modificación y de acceso</li>
	<li>Cuenta de <i>links</i></li>
	<li>Punteros a bloques</li>
</ul>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>

<!------------------------>
<section data-transition="slide-in fade-out">
<h2>Punteros directos a bloques</h2>
<img src="img/inodos-0.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Punteros indirectos</h2>
<img src="img/inodos-1.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in slide-out">
<h2>Punteros doble-indirectos</h2>
<img src="img/inodos-2.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>


<!------------------------>
<section data-transition="slide-in slide-out">
<h2>Directorio</h2>
<img src="img/directorio.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<section data-transition="slide-in fade-out">
<h2>Búsqueda de un archivo</h2>
<div>
<ul><li><code>cat /etc/group</code></li></ul>
</div>
<img src="img/busq-root.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Búsqueda de un archivo</h2>
<div>
<ul><li><code>cat /etc/group</code></li></ul>
</div>
<img src="img/busq-0.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out">
<h2>Búsqueda de un archivo</h2>
<div>
<ul><li><code>cat /etc/group</code></li></ul>
</div>
<img src="img/busq-1.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in slide-out">
<h2>Búsqueda de un archivo</h2>
<div>
<ul><li><code>cat /etc/group</code></li></ul>
</div>
<img src="img/busq-2.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<section data-transition="slide-in slide-out">
<h2>Comandos de archivos</h2>
<table>
<tr><td>ls</td><td>-a, -l, -R, -t</td><td>Lista archivos</td></tr>
<tr><td>cat</td><td></td><td>Muestra contenido</td></tr>
<tr><td>cp</td><td></td><td>Copia</td></tr>
<tr><td>mv</td><td></td><td>Renombra o mueve</td></tr>
<tr><td>rm</td><td></td><td>Borra</td></tr>
</table>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<!------------------------>
<section data-transition="slide-in slide-out">
<h2>Comandos de directorios</h2>
<table>
<tr><td>ls</td><td>-a, -l, -R, -t</td><td>Lista archivos</td></tr>
<tr><td>mkdir</td><td></td><td>Crea</td></tr>
<tr><td>rmdir</td><td></td><td>Borra</td></tr>
<tr><td>mv</td><td></td><td>Renombra o mueve</td></tr>
<tr><td>cd</td><td></td><td>Cambia al directorio</td></tr>
</table>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>



<!------------------------>
<!------------------------
<section>
<h2>Operaciones de Entrada/Salida</h2>
<ul>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<ul>
	</ul>
</ul>
</section>
------------------------>

<section data-background="#00CCFF">
<h2>Gestión de memoria</h2>
<aside data-markdown class="notes">
</aside>
</section>

<section data-transition="slide-in slide-out">
<h2>Memoria contigua</h2>
<img src="img/mem-contigua.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>

<section>
<h2>Asignación de memoria contigua</h2>
<ul>
	<li>Un proceso &rarr; una región de memoria</li>
	<li>Particiones de tamaño variable</li>
	<ul>
		<li><b>Fragmentación externa</b></li>
		<li>Compactación &rarr; Sobrecarga</li>
	</ul>
</ul>
</section>



<!------------------------>
<section data-transition="slide-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Fragmentación externa</h2>
<img src="img/fragext-0.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<!------------------------>
<section data-transition="fade-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Fragmentación externa</h2>
<img src="img/fragext-1.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<!------------------------>
<section data-transition="slide-out fade-in" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Fragmentación externa</h2>
<img src="img/fragext-2.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>



<section data-transition="slide-in slide-out">
<h2>Segmentación</h2>
<img src="img/mem-segmentos.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>

<!------------------------>
<section data-transition="slide-in slide-out">
<h2>Asignación de segmentos</h2>
<ul>
	<li>Un proceso &rarr; un conjunto de segmentos</li>
	<ul>
		<li>Arquitectura de CPU segmentada</li>
		<li>Modelo de programación segmentado</li>
		<li>Segmentos de código, de datos, de pila</li>
	
	<div class="fragment">
		<li>Apoyo del hardware &rarr; <b>MMU</b></li>
	</div class="fragment">
	<div class="fragment">
		<li>Se reduce la fragmentación externa</li>
		<li>Protección</li>
	</div class="fragment">
	</ul>
</ul>
<aside data-markdown class="notes">
</aside>
</section>


<!------------------------>
<section data-transition="slide-in slide-out">
<h2>MMU, Memory Management Unit</h2>
<ul>
	<li>Tabla de segmentos por cada proceso</li>
	<div class="fragment">
	<li>Traduce direcciones lógicas a físicas</li>
	<ul>
		<li>Direcciones lógicas <b>segmento:desplazamiento</b></li>
		<li>0010:0100 &rarr; 000010100</li>
	</ul>
	</div class="fragment">
</ul>
	<table>
	<tr><td>N° segmento</td><td>Límite</td><td>Base</td></tr>
	<tr><td>0000</td><td>0100</td><td>000011000</td></tr>
	<tr><td>0001</td><td>1010</td><td>000000000</td></tr>
	<tr><td>0010</td><td>0111</td><td>000010000</td></tr>
	</table>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>

<!------------------------>
<section data-transition="slide-in slide-out">
<h2>Traducción de direcciones</h2>
<ul>
	<li class="fragment">Una instrucción de CPU hace una referencia a la dirección lógica <b>S:D</b> (segmento:desplazamiento)</li>
	<li class="fragment">Usando S, la MMU consulta la tabla de segmentos del proceso</li>
	<li class="fragment">Si D es mayor que el límite de ese segmento, provoca una condición que interrumpe el proceso </li>
	<li class="fragment">Lo mismo si la forma del acceso no corresponde a los permisos del proceso para ese segmento</li>
	<li class="fragment">En otro caso, traduce <b>S:D</b> a <b>Base(S)+D</b></li>
</ul>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>



<!------------------------>
<section data-transition="slide-in slide-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Paginación</h2>
<ul>
	<li>División en trozos de igual tamaño</li>
	<ul>
		<li>La memoria se divide en <b>marcos</b></li>
		<li>Cada proceso se divide en <b>páginas</b></li>
		<li>A cada página del proceso se le asigna un marco de memoria</li>
		<li>No existe fragmentación externa</li>
		<li>Existe poca <b>fragmentación interna</b></li>
	</ul>
</ul>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>


<!------------------------>
<section data-transition="slide-in slide-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Paginación</h2>
<img src="img/mem-paginada.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>



<section data-transition="fade-out slide-in" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Tabla de páginas de un proceso</h2>
<img src="img/tabla-paginas.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<section data-transition="fade-in fade-out">
<h2>Tabla de páginas de un proceso</h2>
	<table>
	<tr><td>N° página</td><td>Presente</td><td>Modificada</td><td>Marco</td></tr>
	<tr><td>000</td><td>1</td><td>0</td><td>000</td></tr>
	<tr><td>001</td><td>1</td><td>0</td><td>001</td></tr>
	<tr><td>010</td><td>1</td><td>1</td><td>100</td></tr>
	<tr><td>011</td><td>0</td><td>0</td><td>101</td></tr>
	<tr><td>100</td><td>0</td><td>0</td><td>011</td></tr>
	<tr><td>101</td><td>1</td><td>1</td><td>010</td></tr>
	</table>
<div class="stretch"></div>
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in slide-out">
<h2>Tabla de páginas de un proceso</h2>
	<table>
	<tr><td>N° página</td><td>Presente</td><td>Modificada</td><td>Marco</td></tr>
	<tr><td>0</td><td>1</td><td>0</td><td>0</td></tr>
	<tr><td>1</td><td>1</td><td>0</td><td>1</td></tr>
	<tr><td>2</td><td>1</td><td>1</td><td>4</td></tr>
	<tr><td>3</td><td>0</td><td>0</td><td>5</td></tr>
	<tr><td>4</td><td>0</td><td>0</td><td>3</td></tr>
	<tr><td>5</td><td>1</td><td>1</td><td>2</td></tr>
	</table>
<div class="stretch"></div>
<aside data-markdown class="notes">
</aside>
</section>



<section data-transition="slide-in slide-out">
<h2>Traducción de direcciones</h2>
<ul>
	<li>La MMU traduce la dirección lógica <b>P,D</b> (página, desplazamiento) a <b>marco(P)+D</b></li>
	<li><span style="color:blue;">010</span>0101 &rarr; <span style="color:blue;">100</span>0101</li>
</ul>
	<table>
	<tr><td>N° página</td><td>Presente</td><td>Modificada</td><td>Marco</td></tr>
	<tr><td>000</td><td>1</td><td>0</td><td>000</td></tr>
	<tr><td>001</td><td>1</td><td>0</td><td>001</td></tr>
	<tr><td>010</td><td>1</td><td>1</td><td>100</td></tr>
	<tr><td colspan="4">...</td></tr>
	</table>
<aside data-markdown class="notes">
</aside>
</section>

<section data-transition="slide-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Espacio virtual de un proceso</h2>
<ul>
	<li>El proceso solicita una cierta porción de su espacio virtual...</li>
</ul>
<img src="img/espacio-virtual.svg" class="plain">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="slide-out fade-in" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Espacio virtual de un proceso</h2>
<ul>
	<li>... que, aunque esté asignada, no necesita estar completa en memoria</li>
</ul>
<img src="img/espacio-virtual-1.svg" class="plain">
<aside data-markdown class="notes">
</aside>
</section>

<section data-transition="slide-in slide-out">
<h2>Memoria virtual</h2>
<ul>
	<li>Si la página no está asignada al proceso, o si la forma del acceso no corresponde a los permisos del proceso para esa página</li>
	<ul>
		<li>Se provoca una condición que interrumpe el proceso</li>
	</ul>
	<li>Si la página está asignada pero no está en memoria</li>
	<ul>
		<li>Se produce un <b>fallo de página</b> y se trae esa página desde el almacenamiento secundario a un marco libre</li>
		<li>Si no hay marcos libres &rarr; se elige una <b>página víctima</b> de algún proceso</li>
		<li>Si la página víctima está modificada &rarr; se la guarda en el área de intercambio, liberando el marco</li>
	</ul>
</ul>
<aside data-markdown class="notes">
</aside>
</section>



<section data-transition="slide-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Memoria virtual</h2>
<img src="img/paginacion-0.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<section data-transition="fade-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Memoria virtual</h2>
<img src="img/paginacion-1.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<section data-transition="fade-in slide-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Memoria virtual</h2>
<img src="img/paginacion-2.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>

<section data-transition="fade-out slide-in" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Swapping o intercambio</h2>
<img src="img/swapping-0.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>

<section data-transition="fade-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Swapping o intercambio</h2>
<img src="img/swapping-1.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Swapping o intercambio</h2>
<img src="img/swapping-2.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Swapping o intercambio</h2>
<img src="img/swapping-3.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Swapping o intercambio</h2>
<img src="img/swapping-4.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Swapping o intercambio</h2>
<img src="img/swapping-5.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Swapping o intercambio</h2>
<img src="img/swapping-6.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in fade-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Swapping o intercambio</h2>
<img src="img/swapping-7.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>
<section data-transition="fade-in slide-out" data-audio-src="audio/PRESENT/xx.mp3">
<h2>Swapping o intercambio</h2>
<img src="img/swapping-8.svg" class="plain stretch">
<aside data-markdown class="notes">
</aside>
</section>


<!------------------------>
<!------------------------>
<section data-transition="slide-in fade-out">
<h2>Memoria y protección</h2>
<pre class="stretch"><code data-noescape>
#include &lt;stdio.h&gt;
main()
{
	int *p;			// puntero a entero
	int a = 2;

	p = &a;			// p apunta a la variable a
	printf("%p\n",&a);	// la dirección de a
	printf("%p\n",p);	// el contenido de p

	*p = 3;			// un 3 en la dirección apuntada por p
	printf("%d\n",a);	// imprimir el valor de a

}
</code></pre>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<!------------------------>
<section data-transition="fade-in convex-out">
<h2>Memoria y protección</h2>
<pre class="stretch"><code data-noescape>
#include &lt;stdio.h&gt;
main()
{
	int *p;
	int a = 2;

	p = 0;			// ahora p apunta al byte 0 de la memoria
	printf("%p\n",&a);
	printf("%p\n",p);

	*p = 3;
	printf("%d\n",a);

}
</code></pre>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<section data-transition="convex-in convex-out">
<h2>Memoria y protección</h2>
<pre class="stretch"><code data-noescape>
#include &lt;stdio.h&gt;
main()
{
	char *m = "Hola mundo!";

	puts(m);		// imprime el mensaje
    	*m = 'B';		// primer caracter del mensaje
	puts(m);
}
</code></pre>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>
<!-----------------------
<section>
<h2>Protección</h2>
<ul>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<ul>
	</ul>
</ul>
</section>

------------------------>



<section>
<h3>Usando Linux</h3>
<a href="http://bellard.org/jslinux/index.html">Un emulador de PC en Javascript, corriendo Linux</a>
<aside data-markdown class="notes">
Este emulador de PC construido en Javascript nos permite practicar los comandos del shell dentro de una *máquina virtual* Linux y desde el navegador, sin necesidad de una instalación completa en nuestro equipo.

* Para retroceder en el terminal
  - Teclas Ctrl-Up, Ctrl-Down, Ctrl-PageUp y Ctrl-PageDown.
* Para copiar datos a la máquina virtual
  - Copiar el texto a la caja o **clipboard** a la derecha.
  - En el shell de la máquina virtual escribir:
        cat < /dev/clipboard > /tmp/archivo
  - Ahora tenemos ese mismo texto en el archivo /tmp/archivo.
* Para extraer datos de la máquina virtual
  - Invertir el procedimiento anterior: 
        cat mi_archivo > /dev/clipboard
  - Seleccionar el texto en la caja **clipboard** y copiarlo a alguna otra aplicación en nuestro equipo, tal como un editor.
</aside>
</section>


<!------------------------>
<section data-transition="slide-in slide-out">
<h2>Referencias</h2>
<ul>
	<li><a href="https://es.wikipedia.org/wiki/Unix">Unix</a></li>
	<li><a href="https://es.wikipedia.org/wiki/Proceso_(informática)">Procesos</a></li>
	<li><a href="https://es.wikipedia.org/wiki/Filesystem_Hierarchy_Standard">Jerarquía del sistema de archivos en Linux</a></li>
	<li><a href="https://es.wikipedia.org/wiki/Unidad_de_gestión_de_memoria">Unidad de Gestión de Memoria (MMU)</a></li>
	<li><a href="https://es.wikipedia.org/wiki/Paginación_de_memoria">Paginación de memoria</a></li>
</ul>
<aside data-markdown class="notes">
</aside>
</section>
<!------------------------>

<!-- INCLUDE src/reveal.trailer -->

